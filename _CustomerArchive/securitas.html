
<!-- SO YOU KEEP IT ALL UP TO DATE 
As of 

#######  9th November 2020  #######  

This is the working version.

-->

<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8" http-equiv="Cache-control" content="NO-CACHE">

  <title>Securitas Quote</title>

  <link rel='shortcut icon' type='image/x-icon' href='favicon.ico' />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
    <link rel="stylesheet" href="css/style-saga.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-113051118-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-113051118-1');
</script>
<!-- END Global site tag (gtag.js) - Google Analytics -->


</head>

<style>
  #checkoutError {
      width: 100%;
      padding: 50px 0;
      text-align: center;
      background-color: red;
      margin-top: 20px;
      display:none;     
  }

  #PDContent img {
    position: absolute;
    top: 0px;
    right: 15px;
  }

</style>

<body>
  <br/>

  <img  height="90" width="140" src="data:image/png;base64,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">

  <div id="PDContent">
    <img vspace="25" height="25" width="108" src="images/PagerDuty-BlackRGB-1x.png"/>
  </div>

  
  <h1>Securitas Quote</h1>

<br/>
Name &amp; email: <input type="text" name="customerName" id="customer-name" value="Enter your name here..." onfocus="if(this.value=='Enter your name here...') this.value='';"><br>

<br/>


<div class="shopping-cart">

  <div class="column-labels">
    <label class="product-image">Image</label>
    <label class="product-details">Product</label>
    <label class="product-price">Price</label>
    <label class="product-quantity">Quantity</label>
    <label class="product-removal">Remove</label>
    <label class="product-line-price">Total</label>
  </div>

  <div class="product">
    <div class="product-image">
      <img src="https://www.verisure.co.uk/sites/securitas-uk/files/styles/tres_columnas/public/colum1_0_0.jpg?itok=JWvP-hQr">
    </div>
    <div class="product-details">
      <div class="product-title">An alarm for the whole family
      </div>
      <p class="product-description"> 
        The Verisure home alarm includes an access-control system that is very useful for families. Any family members, from children to seniors, can activate or deactivate the alarm system easily from the homeâ€™s entrance. In addition, the entry and exit times of all family members or employees (for a business) are recorded through the smart keys, which are assigned to each user.
      </p>
    </div>
    <div class="product-price">800.00</div>
    <div class="product-quantity">
      <input type="number" value="2" min="1">
    </div>
    <div class="product-removal">
      <button class="remove-product">
        Remove
      </button>
    </div>
    <div class="product-line-price">1600.00</div>
  </div>

  <div class="product">
    <div class="product-image">
      <img src="https://www.verisure.co.uk/sites/securitas-uk/files/styles/tres_columnas/public/cxolum2_0.jpg?itok=84LtSXg-">
    </div>
    <div class="product-details">
      <div class="product-title">Protection Against Fire </div>
      <p class="product-description">Verisure and its home alarm not only protect you against burglary and any other unauthorised entry, but also offer an advanced smoke-detection system. Our sensors communicate with each other and with you, thanks to their digital voice and message-sending module, to inform you, wherever you may be, that a fire has started in your home or business.</p>
    </div>
    <div class="product-price">129.00</div>
    <div class="product-quantity">
      <input type="number" value="1" min="1">
    </div>
    <div class="product-removal">
      <button class="remove-product">
        Remove
      </button>
    </div>
    <div class="product-line-price">129.00</div>
  </div>

  <div class="totals">
    <div class="totals-item">
      <label>Subtotal</label>
      <div class="totals-value" id="cart-subtotal">1729.00</div>
    </div>
    <div class="totals-item">
      <label>VAT (5%)</label>
      <div class="totals-value" id="cart-tax">86.45</div>
    </div>
    <div class="totals-item">
      <label>Shipping</label>
      <div class="totals-value" id="cart-shipping">5.00</div>
    </div>
    <div class="totals-item totals-item-total">
      <label>Grand Total</label>
      <div class="totals-value" id="cart-total">1820.45</div>
    </div>
  </div>
      
      <button id="checkoutButton" class="checkout" onclick="completeCheckout()">Ask for a Quote</button>
  </div>


<div id="PDinfo">
  Try and drive our on-call Engineer crazy! or can you?...
</div>

<div id="checkoutError">
  <b>Error in Quote - Unable to complete your order</b> 
  <br/>"Connection to data source updateOrderDB can not be established! 
  <br/>Reason: Invalid operation. The connection is closed. - complete stack
  <br/>at System.Data.SqlClient.SqlConnection.GetOpenConnection()
  <br/>at System.Data.SqlClient.SqlConnection.get_Parser()
  <br/>at System.Data.SqlClient.SqlConnection.Open()", Please try later
</div>

<script>

  //################################################################################
  //Function to Generate a GUID - Not used now - this was to get a unique key for Dedup'ing
  function guid() {
    function s4() {
      return Math.floor((1 + Math.random()) * 0x10000)
        .toString(16)
        .substring(1);
    }
    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +
      s4() + '-' + s4() + s4() + s4();
  }
  //################################################################################

  //################################################################################
  //Grab the Params from the URL in this case the Service Key
  function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
  }
  //################################################################################

  //################################################################################
  //Clears the Checkout error back to default
  function updateResponsePanel()
  {
    var x = document.getElementById("checkoutError");
    x.style.display = "block";

    var y = document.getElementById("PDinfo");
    y.style.display = "none";

    document.getElementById("checkoutButton").innerHTML = "Ask for a Quote";

  }
  //################################################################################



  //################################################################################
  //The Main function under the button
  function completeCheckout() {

    //Capture the customer name
    node = document.getElementById('customer-name'),
    customerName = node.value

    //Check the input makes sense
    if (customerName == "Enter your name here...") 
    {
      alert('Please enter your name and email to complete the order');
      return;
    }
    if (customerName == "") 
    {
      alert('Who are you???');
      return;
    }

    //Grab the Service key of use Tim's default one!
    var serviceKey = getParameterByName('service_key');
    if (!serviceKey) serviceKey = "a36720292f404b75a1e0916687454497";

    //Clear the error pane if showing
    var x = document.getElementById("checkoutError");
    x.style.display = "none";

    //Set the Button to something happening
    document.getElementById("checkoutButton").innerHTML = "Working";
    
    //Update the panel eventually - simulating an end system response
    setTimeout(updateResponsePanel, 5500);

    //Get the Order Value and a Dedup key based on Customer Name and the Minute of the Button click 
    //(someone clicks multiple times = caught one)
    //They return later - we trigger a new alert 
    var node = document.getElementById('cart-total'),
    orderValue = node.innerHTML
    var date = new Date();  
    dedupKey = customerName + date.getMinutes()



    // Requires jQuery
    //Build the JSON payload to send
    var eventObject = '{ ' + 
        ' "client_url": "https://rpm.newrelic.com/accounts/1818495/applications/105833762", ' +
        ' "service_key"\: "' + serviceKey + '", ' +
        ' "incident_key"\: "' + dedupKey + '", ' +
        ' "client"\: "New Relic", ' +
        ' "vendor"\: "New Relic", ' +
        ' "event_type"\: "trigger", ' +
        ' "contexts"\: [ ' +
        ' {  ' +
            ' "src": "https://s3.eu-west-2.amazonaws.com/www.timchinchen.co.uk/DemoImages/NRErrors2.png", ' +
            ' "alt": "Snapshot of metric", ' +
            ' "href": "http://www.timchinchen.co.uk/DemoImages/NRErrors1.png", ' +
            ' "type": "image" ' +
        ' }, ' +
    
        ' { ' +   
        ' "text": "Conference URL (Zoom)", ' +
        ' "href": "https://pagerduty.zoom.us/j/5080555253", ' +
        ' "type": "link" ' +
        ' }, ' +
      '{' +
      '  "text": "Conference Call (Zoom)",  ' +
      '  "href": "tel:+442036950088,,5080555253#",  ' +
      '  "type": "link"  ' +
      '},' +

    '{' +
      ' "text": "Monitor Status", ' +
      ' "href": "https://appp.datadoghq.com/monitors#72563?to_ts=1452282540000&group=host%3Aprod-web-xdb09&from_ts=1452281340000", ' +
      ' "type": "link" ' +
    '},' +
    '{ ' +
    ' "text": "New Relic - Permalink", ' +
    '  "href": "https://rpm.newrelic.com/accounts/1818495/applications/105833762?tw%5Bend%5D=1518535392&tw%5Bstart%5D=1518528373", ' +
    '  "type": "link" ' +
    ' } ' +
    ' ], ' +
  ' "details": { ' +
    ' "body": "[Critical] Increased response time detected on the Quote page affecting ' + customerName + ', High Error rates <br/> Object Reference Not Set and ADO.NET Connection pool exceeded errors detected" , ' +   
    ' "Order Value": ' + orderValue + ', ' +
    ' "priority": "High", ' +
    ' "title": "[Critical] Increased response time detected on the Quote page, High Error rates  affecting ' + customerName + '", ' +
    ' "event_id": "8125363154448140714", ' +
    ' "tags": "aws-prod, base, env:prod, host:farnsworth, monitor, pd_az:us-west-2c, production, xdb, xtradb", ' +
    ' "Customer": "'+ customerName + '" ' +
    ' }, ' +
  ' "description": "[Critical] Increased response time detected on the Quote page, High Error rates" ' +
  '}' 

  console.log(eventObject)


    //Send!!!
    $.ajax({
      method: "POST",
      url: "https://events.pagerduty.com/generic/2010-04-15/create_event.json",
      data: eventObject
    })
      .done(function( msg ) {
        //alert( "Data Saved: " + msg );
    });



/*

    // Requires jQuery
    //Build the JSON payload to send
    var eventObject = '{ ' +
    '	"routing_key": "' + serviceKey + '",  ' +
    '  "dedup_key": "' + dedupKey + '",  ' +
    '  "images": [{  ' +
    '  	"src": "https://s3.eu-west-2.amazonaws.com/www.timchinchen.co.uk/DemoImages/NRErrors2.png",  ' +
    '  	"href": "https://s3.eu-west-2.amazonaws.com/www.timchinchen.co.uk/DemoImages/NRErrors2.png",  ' +
    '  	"alt": "Snapshot of metric"  ' +
    '  }],  ' +
    '  "links": [{  ' +
    '    "href": "https://rpm.newrelic.com/accounts/1818495/applications/105833762?tw%5Bend%5D=1518535392&tw%5Bstart%5D=1518528373",  ' +
    '    "text": "New Relic - Permalink"  ' +
    '  }],  ' +
    '  "event_action": "trigger",  ' +
    '  "client": "New Relic",  ' +
    '  "client_url": "https://rpm.newrelic.com/accounts/1818495/applications/105833762",  ' +
    '  "payload": {  ' +
    '    "summary": "[Critical] Increased response time detected on the Checkout page, High Error rates",  ' +
    '    "source": "aws-prod, base, env:prod, host:farnsworth, monitor, pd_az:us-west-2c, production, xdb, xtradb",  ' +
    '    "severity": "critical",  ' +
    '    "component": "Checkout-Page",  ' +
    '    "group": "prod-datapipe",  ' +
    '    "class": "LIVE",  ' +
    '    "custom_details": {  ' +
    '			"Error Details": "[Critical] Increased response time detected on the Checkout page affecting ' + customerName + ', High Error rates <br/> Object Reference Not Set and ADO.NET Connection pool exceeded errors detected" ,  ' +
    '           "Customer Name": "' + customerName + '",  ' +
    '           "Order Value": 1000  ' +
    '    }  ' +
    '  }  ' +
    '}  '

    console.log(eventObject)


    //Send!!!
    $.ajax({
      method: "POST",
      url: "https://events.pagerduty.com/v2/enqueue",
      data: eventObject
    })
      .done(function( msg ) {
        //alert( "Data Saved: " + msg );
    });

    */


    setTimeout(sendZabbix, 12000);
    setTimeout(sendLowRevenueWarning, 8000);
    setTimeout(sendSUMO, 8000);
    setTimeout(sendSignalFX, 8000);
    setTimeout(sendAppD, 8000);
    setTimeout(sendInstana, 10000);
    setTimeout(sendDynatrace, 9000);
    setTimeout(sendDataDog, 9000);
    setTimeout(sendTweets, 10000);
    setTimeout(sendAWSCW, 10000);
    setTimeout(relatedService1, 10000);
    setTimeout(relatedService2, 10000);
    setTimeout(sendTicket, 10000);
    setTimeout(sendChange, 10000);



  }




//################################################################################
  function relatedService1()
  {
    

  console.log('Send a related Incident');
    
  //Grab the Service key of use Tim's default one!
  var serviceKey = getParameterByName('related_key');
  if (!serviceKey) serviceKey = "ee09b94737a0413aab91e3a6e4161145";


  var eventObject = ' { ' +
    '   "payload": {     ' +
    '     "summary": "[Critical] Increased response time detected on the Search page, High Error rates",   ' +
    '     "source": "DataDog",   ' +
    '     "severity": "warning",   ' +
    '     "location" : "prod",   ' +
    '     "component": "Sumologic",   ' +
    '     "group": "Datadog,Production,eCommerce,Quote-Tier",   ' +
    '     "class": "DataDog" },   ' +
    '   	"routing_key": "' + serviceKey + '",   ' +
    '   	"dedup_key": "DataDog",   ' +
    '    	"event_action": "trigger",   ' +
    '   	"client": "View in DataDog",   ' +
    '   	"client_url": "www.datadog.com",   ' +
    '   	"images": [   ' +
    '   	    {   ' +
    '   	      "src": "https://chart.googleapis.com/chart?chs=600x400&chd=t:6,2,9,5,2,5,7,4,8,2,1&cht=lc&chds=a&chxt=y&chm=D,0033FF,0,0,5,1",   ' +
    '   	      "href": "https://acme.pagerduty.com",   ' +
    '   	      "alt": "This is a sample link"  ' +
    '   	  }  ' +
    '   	]  ' +
    '   }'



  console.log(eventObject);

  $.ajax({
    method: "POST",
    url: "https://events.pagerduty.com/v2/enqueue",
    data: eventObject
  })
    .done(function( msg ) {
      //alert( "Data Saved: " + msg );
  });

  return;


  }
//################################################################################


//################################################################################
  function relatedService2()
  {
    

  console.log('Send a related Incident #2');
    
  //Grab the Service key of use Tim's default one!
  var serviceKey = getParameterByName('related2_key');
  if (!serviceKey) serviceKey = "ad1fe06c65cd468eaab05191115ec46c";


  var eventObject = ' { ' +
    '   "payload": {     ' +
    '     "summary": "[Critical] Increased Response Time detected - SQL Plan slow on SQLCLUSTER01, High Error Rates",   ' +
    '     "source": "SQLMonitor",   ' +
    '     "severity": "warning",   ' +
    '     "location" : "prod",   ' +
    '     "component": "SQLMonitor",   ' +
    '     "group": "SQLMonitor,Production,eCommerce,Quote-Tier",   ' +
    '     "class": "SQLMonitor" },   ' +
    '   	"routing_key": "' + serviceKey + '",   ' +
    '   	"dedup_key": "SQLMonitor",   ' +
    '    	"event_action": "trigger",   ' +
    '   	"client": "View in SQLMonitor",   ' +
    '   	"client_url": "www.SQLMonitor.com",   ' +
    '   	"images": [   ' +
    '   	    {   ' +
    '   	      "src": "https://chart.googleapis.com/chart?chs=600x400&chd=t:6,2,9,5,2,5,7,4,8,2,1&cht=lc&chds=a&chxt=y&chm=D,0033FF,0,0,5,1",   ' +
    '   	      "href": "https://acme.pagerduty.com",   ' +
    '   	      "alt": "This is a sample link"  ' +
    '   	  }  ' +
    '   	]  ' +
    '   }'



  console.log(eventObject);

  $.ajax({
    method: "POST",
    url: "https://events.pagerduty.com/v2/enqueue",
    data: eventObject
  })
    .done(function( msg ) {
      //alert( "Data Saved: " + msg );
  });

  return;


  }
//################################################################################


//################################################################################
  function sendInstana()
{
    console.log('Send to Instana');

    
    //Grab the Service key of use Tim's default one!
    var serviceKey = getParameterByName('service_key');
    if (!serviceKey) serviceKey = "a36720292f404b75a1e0916687454497";

    var eventObject = ' { ' +
    '   "payload": {     ' +
    '     "summary": "Instana - Allocatable memory too low",   ' +
    '     "source": "Instana",   ' +
    '     "severity": "warning",   ' +
    '     "location" : "prod",   ' +
    '     "component": "Instana",   ' +
    '     "group": "Instana,Production,eCommerce,Kubernetes",   ' +
    '     "class": "Instana",   ' +
    '     "custom_details" : {      ' +
    '         "information": "Requested Memory to Available Memory Ratio is too low",    ' +
    '         "suggestion solution": "Tune your Garbage Collector, reduce allocation rate through code changes",    ' +
    '         "link to component": "https://app.instana.io/#/?snapshotId=rjhkZXdNzegliVVEswMScGNn0YY",   ' +
    '         "zone": "Prod",    ' +
    '         "tags": "production, documents, elasticsearch",    ' +
    '         "load avg": 0.75   ' +
    '         }    ' +
    '   	 },  ' +
    '   	"routing_key": "' + serviceKey + '",   ' +
    '   	"dedup_key": "Instana",   ' +
    '    	"event_action": "trigger",   ' +
    '   	"client": "View in Instana",   ' +
    '   	"client_url": "www.Instana.com",   ' +
    '   	"images": [   ' +
    '   	    {   ' +
    '   	      "src": "https://images.g2crowd.com/uploads/attachment/file/93659/Screen-Shot-2018-11-15-at-5.29.14-PM.png",   ' +
    '   	      "href": "https://acme.instana.com",   ' +
    '   	      "alt": "instana"  ' +
    '   	  }  ' +
    '   	]  ' +
    '   }'


    console.log(eventObject);

    $.ajax({
      method: "POST",
      url: "https://events.pagerduty.com/v2/enqueue",
      data: eventObject
    })
      .done(function( msg ) {
        //alert( "Data Saved: " + msg );
    });

    return;
  }
//################################################################################


//################################################################################
  function sendDynatrace()
{
    console.log('Send to Dynatrace');

    
    //Grab the Service key of use Tim's default one!
    var serviceKey = getParameterByName('service_key');
    if (!serviceKey) serviceKey = "a36720292f404b75a1e0916687454497";

    var eventObject = ' { ' +
    '   "payload": {     ' +
    '     "summary": "Dynatrace - High Memory usage on Host SVR00001",   ' +
    '     "source": "Dynatrace",   ' +
    '     "severity": "warning",   ' +
    '     "location" : "prod",   ' +
    '     "component": "Dynatrace",   ' +
    '     "group": "Dynatrace,Production,eCommerce,Kubernetes",   ' +
    '     "class": "Dynatrace",   ' +
    '     "custom_details" : {      ' +
    '         "information": "Requested Memory to Available Memory Ratio is too low",    ' +
    '         "suggestion solution": "Tune your Garbage Collector, reduce allocation rate through code changes",    ' +
    '         "link to component": "www.dynatrace.com",   ' +
    '         "zone": "Prod",    ' +
    '         "tags": "production, documents, elasticsearch",    ' +
    '         "load avg": 0.75   ' +
    '         }    ' +
    '   	 },  ' +
    '   	"routing_key": "' + serviceKey + '",   ' +
    '   	"dedup_key": "Dynatrace",   ' +
    '    	"event_action": "trigger",   ' +
    '   	"client": "View in Dynatrace",   ' +
    '   	"client_url": "www.Dynatrace.com",   ' +
    '   	"images": [   ' +
    '   	    {   ' +
    '   	      "src": "https://s3.eu-west-2.amazonaws.com/www.timchinchen.co.uk/images/dynatrace.jpg",   ' +
    '   	      "href": "https://acme.Dynatrace.com",   ' +
    '   	      "alt": "Dynatrace"  ' +
    '   	  }  ' +
    '   	]  ' +
    '   }'


    console.log(eventObject);

    $.ajax({
      method: "POST",
      url: "https://events.pagerduty.com/v2/enqueue",
      data: eventObject
    })
      .done(function( msg ) {
        //alert( "Data Saved: " + msg );
    });

    return;
  }
//################################################################################


//################################################################################
  function sendTweets()
  {
    sendTweet("@sbarrett - #DutyCalls Wheres my phone ");
    sendTweet("@howard - This #DutyCalls, great idea poor execution!");
    sendTweet("@Jenn - Come on #DutyCalls team - deliver these phones!");
  }
//################################################################################


//################################################################################
  function sendTweet(tweetText)
  {
    
    //Grab the Service key of use Tim's default one!
    var serviceKey = getParameterByName('service_key');
    if (!serviceKey) serviceKey = "999845c2635841589098d7fe425b0d0d";

    var date = new Date();  
    dedupKey = "Tweet" + date.getMinutes()

    var eventObject = ' { ' +
      '   "payload": {     ' +
      '     "summary": "' + tweetText + '",   ' +
      '     "source": "Twitter",   ' +
      '     "severity": "warning",   ' +
      '     "location" : "prod",   ' +
      '     "component": "Twitter Feed",   ' +
      '     "group": "Twitter, Sentiment, production",   ' +
      '     "class": "tweet" },   ' +
      '   	"routing_key": "' + serviceKey + '",   ' +
      '   	"dedup_key": "' + dedupKey + '",   ' +
      '    	"event_action": "trigger",   ' +
      '   	"client": "View in Twitter",   ' +
      '   	"client_url": "www.twitter.com"   ' +
      '   }'

    console.log(eventObject)

    $.ajax({
      method: "POST",
      url: "https://events.pagerduty.com/v2/enqueue",
      data: eventObject
    })
      .done(function( msg ) {
      //alert( "Data Saved: " + msg );
    });

    return;
  }
//################################################################################


//################################################################################
function sendSUMO()
{
    console.log('Send to Sumo');

    
    //Grab the Service key of use Tim's default one!
    var serviceKey = getParameterByName('service_key');
    if (!serviceKey) serviceKey = "a36720292f404b75a1e0916687454497";

    var eventObject = ' { ' +
    '   "payload": {     ' +
    '     "summary": "Sumologic - Increase 500 error rates",   ' +
    '     "source": "Sumologic",   ' +
    '     "severity": "warning",   ' +
    '     "location" : "prod",   ' +
    '     "component": "Sumologic",   ' +
    '     "group": "Sumologic,Production,eCommerce,Quote-Tier",   ' +
    '     "class": "Sumologic" },   ' +
    '   	"routing_key": "' + serviceKey + '",   ' +
    '   	"dedup_key": "Sumologic",   ' +
    '    	"event_action": "trigger",   ' +
    '   	"client": "View in Sumologic",   ' +
    '   	"client_url": "www.Sumologic.com",   ' +
    '   	"images": [   ' +
    '   	    {   ' +
    '   	      "src": "https://chart.googleapis.com/chart?chs=600x400&chd=t:6,2,9,5,2,5,7,4,8,2,1&cht=lc&chds=a&chxt=y&chm=D,0033FF,0,0,5,1",   ' +
    '   	      "href": "https://acme.pagerduty.com",   ' +
    '   	      "alt": "This is a sample link"  ' +
    '   	  }  ' +
    '   	]  ' +
    '   }'


    console.log(eventObject);

    $.ajax({
      method: "POST",
      url: "https://events.pagerduty.com/v2/enqueue",
      data: eventObject
    })
      .done(function( msg ) {
        //alert( "Data Saved: " + msg );
    });

    return;
  }
//################################################################################


//################################################################################
function sendDataDog()
{
    console.log('Send to DataDog');

    
    //Grab the Service key of use Tim's default one!
    var serviceKey = getParameterByName('service_key');
    if (!serviceKey) serviceKey = "a36720292f404b75a1e0916687454497";

    var eventObject = ' { ' +
    '   "payload": {     ' +
    '     "summary": "DataDog - Long history length in xdb (possible stuck transaction)",   ' +
    '     "source": "DataDog",   ' +
    '     "severity": "warning",   ' +
    '     "location" : "prod",   ' +
    '     "component": "DataDog",   ' +
    '     "group": "aws-prod, base, env:prod, host:farnsworth, monitor, pd_az:us-west-2c, production, xdb, xtradb",   ' +
    '     "class": "DataDog",   ' +
    '     "custom_details" : {      ' +
    '         "information": "History list length is high, which usually indicates that an active but idle transaction is persisting. Go find the transaction (SHOW ENGINE INNODB STATUS, usually the last one listed) and kill it (KILL <thread id>).  @devop-Datadog mysql2.Innodb_history_list_length over role:xdb was > 12500.0 on average during the last 5m. Metric value: 12796.667",    ' +
    '         "ping time": "1500ms",    ' +
    '         "load avg": 0.75   ' +
    '         }    ' +
    '   	 },  ' +
    '   	"routing_key": "' + serviceKey + '",   ' +
    '   	"dedup_key": "DataDog123",   ' +
    '    	"event_action": "trigger",   ' +
    '   	"client": "View in DataDog",   ' +
    '   	"client_url": "www.DataDog.com",   ' +
    '   	"images": [   ' +
    '   	    {   ' +
    '   	      "src": "https://p.datadoghq.com/snapshot/view/dd-snapshots-prod/org_1804/2016-01-08/2a82598cc2d67f28542eb218f1094db70657b139.png",   ' +
    '   	      "href": "https://appp.datadoghq.com/monitors#72563?to_ts=1452282540000&group=host%3Aprod-web-xdb09&from_ts=1452281340000",   ' +
    '   	      "alt": "Link to DataDog"  ' +
    '   	  }  ' +
    '   	]  ' +
    '   }'


    console.log(eventObject);

    $.ajax({
      method: "POST",
      url: "https://events.pagerduty.com/v2/enqueue",
      data: eventObject
    })
      .done(function( msg ) {
        //alert( "Data Saved: " + msg );
    });

    return;

   
  }
//################################################################################


//################################################################################
function sendSignalFX()
{
    console.log('Send to SignalFX');

    
    //Grab the Service key of use Tim's default one!
    var serviceKey = getParameterByName('service_key');
    if (!serviceKey) serviceKey = "a36720292f404b75a1e0916687454497";

    var eventObject = ' { ' +
    '   "payload": {     ' +
    '     "summary": "SignalFX - CPU too high - FrontEndSvr001,FrontEndSvr002",   ' +
    '     "source": "SignalFX",   ' +
    '     "severity": "warning",   ' +
    '     "location" : "prod",   ' +
    '     "component": "SignalFX",   ' +
    '     "group": "SignalFX,Production,eCommerce,Quote-Tier",   ' +
    '     "class": "SignalFX" },   ' +
    '   	"routing_key": "' + serviceKey + '",   ' +
    '   	"dedup_key": "SignalFXdedupkey",   ' +
    '    	"event_action": "trigger",   ' +
    '   	"client": "View in SignalFX",   ' +
    '   	"client_url": "www.SignalFX.com",   ' +
    '   	"images": [   ' +
    '   	    {   ' +
    '   	      "src": "https://chart.googleapis.com/chart?chs=600x400&chd=t:6,2,9,5,2,5,7,4,8,2,1&cht=lc&chds=a&chxt=y&chm=D,0033FF,0,0,5,1",   ' +
    '   	      "href": "https://acme.pagerduty.com",   ' +
    '   	      "alt": "This is a sample link"  ' +
    '   	  }  ' +
    '   	]  ' +
    '   }'


    console.log(eventObject);

    $.ajax({
      method: "POST",
      url: "https://events.pagerduty.com/v2/enqueue",
      data: eventObject
    })
      .done(function( msg ) {
        //alert( "Data Saved: " + msg );
    });

    return;
  }
//################################################################################


//################################################################################
function sendAppD()
{
    console.log('Send to AppD');

    
    //Grab the Service key of use Tim's default one!
    var serviceKey = getParameterByName('service_key');
    if (!serviceKey) serviceKey = "a36720292f404b75a1e0916687454497";

    var eventObject = ' { ' +
    '   "payload": {     ' +
    '     "summary": "AppDynamics - Increased Business Transaction Response time compared to baseline - BTs > Quote, Order Confirmed",   ' +
    '     "source": "AppDynamics",   ' +
    '     "severity": "warning",   ' +
    '     "location" : "prod",   ' +
    '     "component": "AppDynamics",   ' +
    '     "group": "AppDynamics,Production,eCommerce,Quote-Tier",   ' +
    '     "class": "AppDynamics" },   ' +
    '   	"routing_key": "' + serviceKey + '",   ' +
    '   	"dedup_key": "AppDynamicsdedupkey",   ' +
    '    	"event_action": "trigger",   ' +
    '   	"client": "View in AppDynamics",   ' +
    '   	"client_url": "www.AppDynamics.com",   ' +
    '   	"images": [   ' +
    '   	    {   ' +
    '   	      "src": "https://chart.googleapis.com/chart?chs=600x400&chd=t:6,2,9,5,2,5,7,4,8,2,1&cht=lc&chds=a&chxt=y&chm=D,0033FF,0,0,5,1",   ' +
    '   	      "href": "https://acme.pagerduty.com",   ' +
    '   	      "alt": "This is a sample link"  ' +
    '   	  }  ' +
    '   	]  ' +
    '   }'


    console.log(eventObject);

    $.ajax({
      method: "POST",
      url: "https://events.pagerduty.com/v2/enqueue",
      data: eventObject
    })
      .done(function( msg ) {
        //alert( "Data Saved: " + msg );
    });

    return;
  }
//################################################################################


//################################################################################
function sendAWSCW()
{
    console.log('Send to AWS');

    
    //Grab the Service key of use Tim's default one!
    //var serviceKey = getParameterByName('service_key');
    //if (!serviceKey) serviceKey = "999845c2635841589098d7fe425b0d0d";

    serviceKey = "R011H1E41I90Y1AYE4WORDOHG0MOD8FR";

    var eventObject = '{ ' +
      '     "client": "AWS Console", ' +
      '     "client_url": "https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#c=CloudWatch&s=Alarms&alarm=TempTest", ' +
      '     "summary": "Maximum EstimatedCharges GreaterThanOrEqualToThreshold 50.0", ' +
      '     "event_action": "trigger", ' +
      '     "routing_key": "' + serviceKey + '", ' +
      '   	"dedup_key": "AWSCW",   ' +
      '     "payload": { ' +
        '   			"summary": "Maximum EstimatedCharges GreaterThanOrEqualToThreshold 50.0", ' +
        '   			"severity":"warning", ' +
        '   		  "source": "AWS Cloudwatch", ' +
        '   			"custom_details": { ' +
          '   				"Unit": null, ' +
          '   				"TreatMissingData": "- TreatMissingData:                    missing", ' +
          '   				"Threshold": 50, ' +
          '   				"StatisticType": "Statistic", ' +
          '   				"Statistic": "MAXIMUM", ' +
          '   				"Period": 21600, ' +
          '   				"Namespace": "AWS/Billing", ' +
          '   				"MetricName": "EstimatedCharges", ' +
          '   				"EvaluationPeriods": 1, ' +
          '   				"EvaluateLowSampleCountPercentile": "", ' +
          '   				"Dimensions": [ ' +
          '   					{ ' +
            '   						"value": "USD", ' +
            '   						"name": "Currency" ' +
            '   					} ' +
            '   				], ' +
            '   				"ComparisonOperator": "GreaterThanOrEqualToThreshold", ' +
            '   				"StateChangeTime": "2019-05-18T16:17:56.835+0000", ' +
            '   				"Region": "US East (N. Virginia)", ' +
            '   				"OldStateValue": "OK", ' +
            '   				"NewStateValue": "ALARM", ' +
            '   				"NewStateReason": "Threshold Crossed: 1 out of the last 1 datapoints [10.08 (18/05/19 10:17:00)] was greater than or equal to the threshold (10.0) (minimum 1 datapoint for OK -> ALARM transition).", ' +
            '   				"AlarmName": "TempTest", ' +
            '   				"AlarmDescription": null, ' +
            '   				"AWSAccountId": "593311969811" ' +
            '     	} ' +
            '   	} ' +
            '   } '


    console.log(eventObject);

    $.ajax({
      method: "POST",
      url: "https://events.pagerduty.com/v2/enqueue",
      data: eventObject
    })
      .done(function( msg ) {
        //alert( "Data Saved: " + msg );
    });

    return;
  }
//################################################################################




//################################################################################
function sendZabbix()
  {
    console.log('Send to Zabbix');

    
    //Grab the Service key of use Tim's default one!
    var serviceKey = getParameterByName('service_key');
    if (!serviceKey) serviceKey = "a36720292f404b75a1e0916687454497";

    var eventObject = ' { ' +
    '   "payload": {     ' +
    '     "summary": "java.lang.OutOfMemoryError: Java heap space",   ' +
    '     "source": "Zabbix",   ' +
    '     "severity": "warning",   ' +
    '     "location" : "prod",   ' +
    '     "component": "Zabbix",   ' +
    '     "group": "Zabbix,Production,eCommerce,Quote-Tier",   ' +
    '     "class": "Zabbix" },   ' +
    '   	"routing_key": "' + serviceKey + '",   ' +
    '   	"dedup_key": "Zabbixdedupkey",   ' +
    '    	"event_action": "trigger",   ' +
    '   	"client": "View in Zabbix",   ' +
    '   	"client_url": "www.zabbix.com",   ' +
    '   	"images": [   ' +
    '   	    {   ' +
    '   	      "src": "https://chart.googleapis.com/chart?chs=600x400&chd=t:6,2,9,5,2,5,7,4,8,2,1&cht=lc&chds=a&chxt=y&chm=D,0033FF,0,0,5,1",   ' +
    '   	      "href": "https://acme.pagerduty.com",   ' +
    '   	      "alt": "This is a sample link"  ' +
    '   	  }  ' +
    '   	]  ' +
    '   }'


    console.log(eventObject);

    $.ajax({
      method: "POST",
      url: "https://events.pagerduty.com/v2/enqueue",
      data: eventObject
    })
      .done(function( msg ) {
        //alert( "Data Saved: " + msg );
    });

    return;
  }
//################################################################################


//################################################################################
function sendTicket()
  {

    console.log('Send Custoemr Helpdesk');

    
    //Grab the Service key of use Tim's default one!
    var serviceKey = getParameterByName('service_key');
    if (!serviceKey) serviceKey = "0be6f31ca091417f90824770e340e3ae";

    var eventObject = ' { ' +
    '   "payload": {     ' +
    '     "summary": "Zendesk: Customer - Steve Barrett - Cannot complete Purchse of this awesome item",   ' +
    '     "source": "Zendesk",   ' +
    '     "severity": "warning",   ' +
    '     "location" : "prod",   ' +
    '     "component": "Zendesk",   ' +
    '     "group": "Zendesk,Production,eCommerce,Quote-Tier",   ' +
    '     "class": "Zendesk" },   ' +
    '   	"routing_key": "' + serviceKey + '",   ' +
    '   	"dedup_key": "Prometheusdedupkey",   ' +
    '    	"event_action": "trigger",   ' +
    '   	"client": "View in Zendesk",   ' +
    '   	"client_url": "www.Zendesk.com",   ' +
    '   	"images": [   ' +
    '   	    {   ' +
    '   	      "src": "https://logz.io/wp-content/uploads/2017/03/memory-graph.png",   ' +
    '   	      "href": "https://logz.io/wp-content/uploads/2017/03/memory-graph.png",   ' +
    '   	      "alt": "This is a sample link"  ' +
    '   	  }  ' +
    '   	]  ' +
    '   }'


    console.log(eventObject);

    $.ajax({
      method: "POST",
      url: "https://events.pagerduty.com/v2/enqueue",
      data: eventObject
    })
      .done(function( msg ) {
        //alert( "Data Saved: " + msg );
    });

    return;
  }
//################################################################################





//################################################################################
 function sendZabbix()
  {
    console.log('Send to Zabbix');

    
    //Grab the Service key of use Tim's default one!
    var serviceKey = getParameterByName('service_key');
    if (!serviceKey) serviceKey = "a36720292f404b75a1e0916687454497";

    var eventObject = ' { ' +
    '   "payload": {     ' +
    '     "summary": "java.lang.OutOfMemoryError: Java heap space",   ' +
    '     "source": "Zabbix",   ' +
    '     "severity": "warning",   ' +
    '     "location" : "prod",   ' +
    '     "component": "Zabbix",   ' +
    '     "group": "Zabbix,Production,eCommerce,Quote-Tier",   ' +
    '     "class": "Zabbix" },   ' +
    '   	"routing_key": "' + serviceKey + '",   ' +
    '   	"dedup_key": "Zabbixdedupkey",   ' +
    '    	"event_action": "trigger",   ' +
    '   	"client": "View in Zabbix",   ' +
    '   	"client_url": "www.zabbix.com",   ' +
    '   	"images": [   ' +
    '   	    {   ' +
    '   	      "src": "https://chart.googleapis.com/chart?chs=600x400&chd=t:6,2,9,5,2,5,7,4,8,2,1&cht=lc&chds=a&chxt=y&chm=D,0033FF,0,0,5,1",   ' +
    '   	      "href": "https://acme.pagerduty.com",   ' +
    '   	      "alt": "This is a sample link"  ' +
    '   	  }  ' +
    '   	]  ' +
    '   }'


    console.log(eventObject);

    $.ajax({
      method: "POST",
      url: "https://events.pagerduty.com/v2/enqueue",
      data: eventObject
    })
      .done(function( msg ) {
        //alert( "Data Saved: " + msg );
    });

    return;
  }
//################################################################################


//################################################################################
function sendLowRevenueWarning()
  {

    console.log('Send Low Revenue Warning');

    
    //Grab the Service key of use Tim's default one!
    var serviceKey = getParameterByName('service_key');
    if (!serviceKey) serviceKey = "a36720292f404b75a1e0916687454497";

    var eventObject = ' { ' +
    '   "payload": {     ' +
    '     "summary": "Low Revenue detected compared to normal",   ' +
    '     "source": "Prometheus",   ' +
    '     "severity": "warning",   ' +
    '     "location" : "prod",   ' +
    '     "component": "Prometheus",   ' +
    '     "group": "Prometheus,Production,eCommerce,Quote-Tier",   ' +
    '     "class": "Prometheus" },   ' +
    '   	"routing_key": "' + serviceKey + '",   ' +
    '   	"dedup_key": "Prometheusdedupkey",   ' +
    '    	"event_action": "trigger",   ' +
    '   	"client": "View in Prometheus",   ' +
    '   	"client_url": "www.Prometheus.com",   ' +
    '   	"images": [   ' +
    '   	    {   ' +
    '   	      "src": "https://logz.io/wp-content/uploads/2017/03/memory-graph.png",   ' +
    '   	      "href": "https://logz.io/wp-content/uploads/2017/03/memory-graph.png",   ' +
    '   	      "alt": "This is a sample link"  ' +
    '   	  }  ' +
    '   	]  ' +
    '   }'


    console.log(eventObject);

    $.ajax({
      method: "POST",
      url: "https://events.pagerduty.com/v2/enqueue",
      data: eventObject
    })
      .done(function( msg ) {
        //alert( "Data Saved: " + msg );
    });

    return;
  }
//################################################################################






//################################################################################
function sendZabbix()
  {
    console.log('Send to Zabbix');

    
    //Grab the Service key of use Tim's default one!
    var serviceKey = getParameterByName('service_key');
    if (!serviceKey) serviceKey = "a36720292f404b75a1e0916687454497";

    var eventObject = ' { ' +
    '   "payload": {     ' +
    '     "summary": "java.lang.OutOfMemoryError: Java heap space",   ' +
    '     "source": "Zabbix",   ' +
    '     "severity": "warning",   ' +
    '     "location" : "prod",   ' +
    '     "component": "Zabbix",   ' +
    '     "group": "Zabbix,Production,eCommerce,Quote-Tier",   ' +
    '     "class": "Zabbix" },   ' +
    '   	"routing_key": "' + serviceKey + '",   ' +
    '   	"dedup_key": "Zabbixdedupkey",   ' +
    '    	"event_action": "trigger",   ' +
    '   	"client": "View in Zabbix",   ' +
    '   	"client_url": "www.zabbix.com",   ' +
    '   	"images": [   ' +
    '   	    {   ' +
    '   	      "src": "https://chart.googleapis.com/chart?chs=600x400&chd=t:6,2,9,5,2,5,7,4,8,2,1&cht=lc&chds=a&chxt=y&chm=D,0033FF,0,0,5,1",   ' +
    '   	      "href": "https://acme.pagerduty.com",   ' +
    '   	      "alt": "This is a sample link"  ' +
    '   	  }  ' +
    '   	]  ' +
    '   }'


    console.log(eventObject);

    $.ajax({
      method: "POST",
      url: "https://events.pagerduty.com/v2/enqueue",
      data: eventObject
    })
      .done(function( msg ) {
        //alert( "Data Saved: " + msg );
    });

    return;
  }
//################################################################################


//################################################################################
function sendChange()
  {

    console.log('Send Change Event');

    
    //Grab the Service key of use Tim's default one!
    var serviceKey = getParameterByName('service_key');
    if (!serviceKey) serviceKey = "c339228de0bd49d1b3f8c2231812efc7";

    var MS_PER_MINUTE = 60000;
    var releaseTime = new Date(Date.now() - 5 * MS_PER_MINUTE);

    var eventObject = ' { ' +
    '   "routing_key": "c339228de0bd49d1b3f8c2231812efc7", ' +
    '   "payload": { ' +
      '     "summary": "Update to eCommerce Front End - New SQL Update for stock update in Quote", ' +
      '        "timestamp": "' + releaseTime.toISOString() + '", ' +
      '   "source": "prod-buildkite-defaultagent-i-0b148d1040d565540", ' +
      '   "custom_details": { ' +
        '     "build_state": "passed", ' +
        '     "build_number": "220", ' +
        '     "run_time": "1236s", ' +
        '     "agent_id": "6b4300e4-3b2a-4515-b1a5-c8ec4325a5a8", ' +
        '     "build_id": "1cf9efe1-a627-493c-b6f2-f4aa66987602"' +
        '   } ' +
      '   }, ' +
      '   "links": [ ' +
      '   { ' +
        '   "href": "https://github.com/pagerduty/global-search-production/builds/220", ' +
        '   "text": "View in Github" ' +
        '   }  ' +
        '   ] ' +
    '   }'


    console.log(eventObject);

    $.ajax({
      method: "POST",
      url: "https://events.pagerduty.com/v2/change/enqueue",
      data: eventObject
    })
      .done(function( msg ) {
        //alert( "Data Saved: " + msg );
    });

    return;
  }
//################################################################################





</script>

<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script  src="js/index.js"></script>
</body>
</html>
